!function(e){var t,a,i;"function"==typeof define&&define.amd&&(define(e),t=!0),"object"==typeof exports&&(module.exports=e(),t=!0),t||(a=window.Cookies,(i=window.Cookies=e()).noConflict=function(){return window.Cookies=a,i})}(function(){function o(){for(var e=0,t={};e<arguments.length;e++){var a=arguments[e];for(var i in a)t[i]=a[i]}return t}function c(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function e(p){function s(){}function a(e,t,a){if("undefined"!=typeof document){"number"==typeof(a=o({path:"/"},s.defaults,a)).expires&&(a.expires=new Date(+new Date+864e5*a.expires)),a.expires=a.expires?a.expires.toUTCString():"";try{var i=JSON.stringify(t);/^[\{\[]/.test(i)&&(t=i)}catch(e){}t=p.write?p.write(t,e):encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var r="";for(var n in a)a[n]&&(r+="; "+n,!0!==a[n]&&(r+="="+a[n].split(";")[0]));return document.cookie=e+"="+t+r}}function t(e,t){if("undefined"!=typeof document){for(var a={},i=document.cookie?document.cookie.split("; "):[],r=0;r<i.length;r++){var n=i[r].split("="),s=n.slice(1).join("=");t||'"'!==s.charAt(0)||(s=s.slice(1,-1));try{var o=c(n[0]),s=(p.read||p)(s,o)||c(s);if(t)try{s=JSON.parse(s)}catch(e){}if(a[o]=s,e===o)break}catch(e){}}return e?a[e]:a}}return s.set=a,s.get=function(e){return t(e,!1)},s.getJSON=function(e){return t(e,!0)},s.remove=function(e,t){a(e,"",o(t,{expires:-1}))},s.defaults={},s.withConverter=e,s}(function(){})}),function(){"use strict";({params:{},read_params:function(){return void 0!==window.bbgfb_cookies&&void 0!==window.bbgfb_cookies.campaign&&void 0!==window.bbgfb_cookies.expires&&(this.params=window.bbgfb_cookies,this.params.expires=parseFloat(this.params.expires),!0)},getParameterByName:function(e,t){void 0!==t&&t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var a=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null},splitParams:function(e){var t=[];if("string"!=typeof e)return t;for(var a=(t=e.split(",")).length-1;0<=a;a--)""===t[a]&&t.splice(a,1);return t},getTieredValue:function(e){if(void 0===e)return null;var t=Cookies.get(e);if(t)return t;for(var a=this.splitParams(this.params.additional_persistent_tracking_addendums),i=0;i<a.length;i++){var r=e+a[i],n=this.getParameterByName(r);if(n)return n}return null},set_cookies:function(){var e=this.getParameterByName(this.params.campaign),t=this.getParameterByName(this.params.campaign_mpam),a=this.getParameterByName(this.params.campaign_tactic);e&&Cookies.set(this.params.campaign,e,{expires:this.params.expires,path:this.params.path}),t&&Cookies.set(this.params.campaign_mpam,t,{expires:this.params.expires,path:this.params.path}),a&&Cookies.set(this.params.campaign_tactic,a,{expires:this.params.expires,path:this.params.path});var i=this.splitParams(this.params.additional_persistent_tracking);if(i.length)for(var r=0;r<i.length;r++){var n=i[r];if(!n)break;var s=this.getParameterByName(n);s&&Cookies.set(n,s,{expires:this.params.expires,path:this.params.path})}},update_tracking_field:function(){var e=document.getElementsByClassName("bbgfb_campaign");if(!e)return!1;var t=Cookies.get(this.params.campaign);if(t&&e)for(var a=0,i=e.length;a<i;a++)e[a].value=t;var r=document.getElementsByClassName("bbgfb_campaign_mpam");if(!r)return!1;var n=Cookies.get(this.params.campaign_mpam);if(n&&r)for(var s=0,o=r.length;s<o;s++)r[s].value=n;var p=document.getElementsByClassName("bbgfb_campaign_tactic");if(!p)return!1;var c=Cookies.get(this.params.campaign_tactic);if(c&&p)for(var m=0,f=p.length;m<f;m++)p[m].value=c;if(document.querySelectorAll(".bbgfb").length)for(var u=this.splitParams(this.params.additional_persistent_tracking),g=0;g<u.length;g++){var l=u[g],h=this.getTieredValue(l),d=document.querySelectorAll(".bbgfb [name="+l+"]");if(h&&d.length)for(var v=0;v<d.length;v++)d[v].value=h}},init:function(){if(!this.read_params())return!1;this.set_cookies(),this.update_tracking_field()}}).init()}();
//# sourceMappingURL=cookies.js.map